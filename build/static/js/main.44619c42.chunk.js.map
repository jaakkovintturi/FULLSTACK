{"version":3,"sources":["services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","delete","then","response","data","Add","props","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","onClick","addInformation","type","Notification","message","className","Person","person","msg","persons","name","number","window","confirm","includes","personService","console","log","setTimeout","Persons","setPersons","setNewMessage","useEffect","length","map","App","useState","setNewName","setNewNumber","newMessage","event","target","preventDefault","nameObject","existingPerson","find","p","undefined","id1","n","changedNumber","Number","note","catch","error","filter","changeNumber","concat","i","delete1","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.44619c42.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\nconst deleteNumber = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { \n  getAll: getAll, \n  create: create, \n  update: update,\n  deleteNumber: deleteNumber\n}\n","\nimport './App.css';\n\nimport React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\n\nconst Add = (props) => {\n  return (\n  <div>\n    <p>name:</p> <input \n      value={props.newName}\n      onChange={props.handleNameChange}/>\n    <p>number:</p> <input \n      value={props.newNumber}\n      onChange={props.handleNumberChange}/>\n      <button onClick={props.addInformation} type=\"submit\">add</button>\n  </div>\n  )\n}\nconst Notification = ( { message } ) => {\n\tif ( message === null ) {\n\t\treturn null;\n\t}\n\telse return (\n\t\t<div className=\"notification\">\n\t\t\t{ message }\n\t\t</div>\n\t);\n}\nconst Person = ( {person, msg, persons} ) => {\n\n  const confirmation = () => {\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      if(persons.includes(person)) {\n      personService \n      .deleteNumber(person.id)\n      console.log('Person deleted.')\n    } \n      msg(`${person.name} deleted.`)\n      setTimeout(() => {\n        msg(null)\n      }, 2500)\n    }\n  \n}\n\n  return (\n      <tr>\n          <td>{person.name}</td>\n          <td>{person.number}</td>\n          <td><button onClick={confirmation} type=\"submit\">delete</button></td>\n          \n      </tr>\n          \n  )\n}\n\n\nconst Persons = ({setPersons, persons, setNewMessage}) => {\n\n  useEffect(() => {\n\n    const getPersons = () => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response.data)\n      })\n    }\n    getPersons();\n  }, [])\n\n  console.log('render', persons.length, 'notes')\n  return (\n      <table>\n          <tbody>\n              {persons.map(person => <Person key={person.name} person={person} msg={setNewMessage} persons={persons}/>)}\n          </tbody>\n      </table>\n  )\n}\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([\n  ]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newMessage, setNewMessage ] = useState(null)\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  \n\nconst addInformation = (event) => {\n  event.preventDefault()\n  const nameObject = {\n    name: newName,\n    number: newNumber\n  }\n\n\n  const existingPerson = persons.find(p => p.name === newName)\n   \n  const changeNumber = id => {\n    const id1 = (persons.find(n=>n.id===id))\n    \n    const changedNumber = {...id1, number: newNumber}\n  \n    personService\n    .update(Number(id1.id), changedNumber)\n    .then(response => response.data)\n    .then(response => {\n      setPersons(persons.map(note => Number(note.id) !== Number(id) ? note : response.data))\n    })\n    .catch(error => {\n      setNewMessage(`Information of '${changedNumber.name}' has already been removed from server`)\n      setTimeout(() => {\n        setNewMessage(null)\n      }, 4000)\n      setPersons(persons.filter(n => Number(n.id) !== Number(id)))\n\n    })\n   \n  }\n\n  if(existingPerson!==undefined && newNumber!==\"\") {\n    if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n    changeNumber(existingPerson.id)\n\n    }\n  } else if(newName!==\"\" && newNumber!==\"\") {\n  setPersons(persons.concat(nameObject))\n  setNewName('')\n  setNewNumber('')\n\n  setNewMessage(`LisÃ¤ttiin ${newName}`)\n  setTimeout(() => {\n    setNewMessage(null)\n  }, 2500)\n  \n  personService\n  .create(nameObject)\n  .then(response => {\n    console.log(response)\n  })\n}\n\n}\n\nconst gone = () => {\n  if (window.confirm(`Delete all the names?`)) { \n    for (let i = 0; i < persons.length; i++) {\n    let delete1 = persons[i]\n    personService \n    .deleteNumber(delete1.id)\n    \n}console.log('Persons deleted.')\n}\n\n\n}\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message = {newMessage}/>\n      <form>\n       <Add handleNumberChange={handleNumberChange} newNumber={newNumber}  \n       handleNameChange={handleNameChange}\n       newName={newName} addInformation = {addInformation}/>\n      </form>\n      <h2>Numbers</h2>\n      <Persons persons={persons} setPersons={setPersons} setNewMessage={setNewMessage}/>\n      <button onClick={gone} type=\"submit\">delete all</button>\n    </div>\n  )\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}